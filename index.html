<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Golf Stats</title>
  <meta name="theme-color" content="#0ea5e9" />
  <style>
    :root{--bg:#0b1220;--card:#101829;--ink:#e5ecff;--muted:#9db4ff;--accent:#38bdf8;--ok:#22c55e;--bad:#ef4444;--warn:#f59e0b}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial; background:linear-gradient(180deg,#0b1220,#0f172a); color:var(--ink)}
    a{color:var(--accent)}
    header{display:flex;gap:12px;align-items:center;justify-content:space-between;position:sticky;top:0;background:rgba(11,18,32,.85);backdrop-filter:blur(6px);padding:10px 16px;border-bottom:1px solid #1f2a44;z-index:5}
    .title{display:flex;gap:10px;align-items:center}
    nav{display:flex;gap:8px;flex-wrap:wrap}
    .tab{border:1px solid #1f2a44;background:var(--card);color:var(--ink);padding:8px 12px;border-radius:12px;cursor:pointer;text-decoration:none}
    .tab.active{border-color:var(--accent);box-shadow:0 0 0 2px rgba(56,189,248,.25) inset}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    .grid{display:grid;gap:12px}
    .cards{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .card{background:var(--card);border:1px solid #1f2a44;border-radius:16px;padding:14px}
    h1,h2,h3{margin:0 0 8px}
    h1{font-size:22px}
    h2{font-size:18px;color:var(--muted)}
    h3{font-size:16px;color:var(--muted)}
    .small{font-size:12px;color:#9db4ff}
    .pill{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid #223055;color:#c7d2fe;font-size:12px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .btn{display:inline-flex;gap:8px;align-items:center;justify-content:center;background:var(--accent);border:0;color:#052338;padding:10px 14px;border-radius:12px;font-weight:600;cursor:pointer;text-decoration:none}
    .btn.ghost{background:transparent;border:1px solid #1f2a44;color:var(--ink)}
    .btn.warn{background:var(--bad);color:white}
    .hide{display:none}
    footer{color:#9db4ff}
  </style>
</head>
<body>
  <header>
    <div class="title" aria-label="App title">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M20 21H4m4.5-5.5L20 3l-5.5 11.5L9 15.5Z" stroke="#38bdf8" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><circle cx="6" cy="18" r="2" stroke="#38bdf8"/></svg>
      <div>
        <h1>Golf Stats</h1>
        <div class="small">Summary • Practice • Stats</div>
      </div>
    </div>
    <nav aria-label="Primary">
      <a class="tab" data-route="home" href="#home">Home</a>
      <a class="tab" data-route="practice" href="#practice">Practice</a>
      <a class="tab" data-route="stats" href="#stats">Stats</a>
      <a class="tab" data-route="settings" href="#settings">Settings</a>
    </nav>
  </header>

  <main class="wrap">
    <!-- HOME / DASHBOARD -->
    <section id="home" class="grid">
      <div class="grid cards">
        <div class="card">
          <h2>Get started</h2>
          <p class="small">No setup required. Start a practice now or head to Stats any time.</p>
          <div class="row">
            <a class="btn" href="#practice" id="ctaStart">Start new practice</a>
            <a class="btn ghost" href="#stats">View stats</a>
          </div>
        </div>
        <div class="card">
          <h2>At a glance</h2>
          <div class="row" style="margin-top:4px">
            <div><div class="small">Total sessions</div><div id="k_total" class="pill">0</div></div>
            <div><div class="small">First session</div><div id="k_first" class="pill">–</div></div>
            <div><div class="small">Last session</div><div id="k_last" class="pill">–</div></div>
          </div>
        </div>
        <div class="card">
          <h2>Recent activity</h2>
          <div id="recentList" class="small">No sessions yet. Your last three practices will appear here.</div>
        </div>
      </div>
    </section>

    <!-- PRACTICE (placeholder for v0) -->
    <section id="practice" class="grid hide">
      <div class="card">
        <h2>Practice</h2>
        <p class="small">This is the practice area. In the next step, we'll add a simple flow to capture results (made/attempts, points, or notes) without requiring plans.</p>
        <div class="row">
          <button class="btn" id="newPracticeBtn">Start practice (v0)</button>
          <button class="btn ghost" id="backHomeBtn">Back to Home</button>
        </div>
      </div>
    </section>

    <!-- STATS (placeholder for v0) -->
    <section id="stats" class="grid hide">
      <div class="card">
        <h2>Stats</h2>
        <p class="small">We’ll show summaries once you’ve logged sessions. For now, there’s nothing to compute.</p>
        <div id="statsEmpty" class="small">No sessions yet.</div>
      </div>
    </section>

    <!-- SETTINGS (import/export later) -->
    <section id="settings" class="grid hide">
      <div class="card">
        <h2>Settings</h2>
        <p class="small">We’ll add export/import and data reset here later.</p>
      </div>
    </section>
  </main>

  <footer class="wrap small">All data is stored locally on your device. No defaults are preloaded.</footer>

  <script>
    // ---------- tiny helpers ----------
    const $ = (q)=>document.querySelector(q);
    const $$ = (q)=>Array.from(document.querySelectorAll(q));
    const el = (tag, attrs={}, html='')=>{ const x=document.createElement(tag); Object.entries(attrs).forEach(([k,v])=>x.setAttribute(k,v)); if(html!==undefined) x.innerHTML=html; return x; };

    // ---------- local storage wrapper (no defaults loaded) ----------
    const store = {
      keySessions: 'gs_sessions_v1',
      load(key, fallback){ try{ const raw = localStorage.getItem(key); return raw? JSON.parse(raw) : fallback; }catch{ return fallback; } },
      save(key, val){ localStorage.setItem(key, JSON.stringify(val)); }
    };

    // ---------- app state ----------
    let sessions = store.load(store.keySessions, []); // empty by design

    // ---------- simple router ----------
    const routes = ['home','practice','stats','settings'];
    function go(route){
      if(!routes.includes(route)) route = 'home';
      // tabs
      $$(".tab").forEach(t=> t.classList.toggle('active', t.getAttribute('data-route')===route));
      // sections
      routes.forEach(r=> document.getElementById(r).classList.toggle('hide', r!==route));
      document.title = (route==='home' ? 'Golf Stats' : `Golf Stats – ${route[0].toUpperCase()+route.slice(1)}`);
      // render for each route
      if(route==='home') renderHome();
      if(route==='practice') renderPractice();
      if(route==='stats') renderStats();
    }
    window.addEventListener('hashchange', ()=> go(location.hash.replace('#','')||'home'));
    go(location.hash.replace('#','')||'home');

    // ---------- HOME ----------
    function renderHome(){
      // KPIs
      $('#k_total').textContent = sessions.length;
      if(sessions.length){
        const dates = sessions.map(s=> s.date).sort();
        $('#k_first').textContent = dates[0];
        $('#k_last').textContent = dates[dates.length-1];
        // recent list (up to 3)
        const recent = sessions.slice().sort((a,b)=> (a.date<b.date?1:-1)).slice(0,3);
        const box = $('#recentList');
        box.innerHTML = '';
        recent.forEach(s=>{
          const row = el('div',{}, `<span class="pill">${s.date}</span> – ${s.note||'Practice'}`);
          box.appendChild(row);
        });
      } else {
        $('#k_first').textContent = '–';
        $('#k_last').textContent = '–';
        $('#recentList').textContent = 'No sessions yet. Your last three practices will appear here.';
      }
    }

    // ---------- PRACTICE (v0 placeholder) ----------
    function renderPractice(){
      $('#newPracticeBtn').onclick = ()=>{
        // Minimal stub: create an empty session with date only so the dashboard can update.
        const today = new Date().toISOString().slice(0,10);
        const s = { id: crypto.randomUUID(), date: today, note: '' };
        sessions.unshift(s);
        store.save(store.keySessions, sessions);
        alert('Practice started (placeholder). We will build the full entry flow next.');
        location.hash = '#home';
      };
      $('#backHomeBtn').onclick = ()=> location.hash = '#home';
    }

    // ---------- STATS (v0 placeholder) ----------
    function renderStats(){
      $('#statsEmpty').textContent = sessions.length ? `${sessions.length} session(s) saved. Detailed stats coming next.` : 'No sessions yet.';
    }
  </script>
</body>
</html>
